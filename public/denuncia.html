<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <!-- CSS da página -->
  <link rel="stylesheet" href="./css/denuncia.css">
  <link rel="icon" href="./assets/iconOpinai.png" type="image/png">
  <title>Denúnciar - Opinaí</title>
</head>

<body>
  <!-- Barra Lateral -->
  <div id="sidebar" class="sidebar closed">
    <button class="close-btn" id="closeBtn">✖</button>
    <nav>
      <ul>
        <li><a href="inicio.html">Página Inicial</a></li>
        <li><a href="denuncia.html">Fazer Denúncia</a></li>
        <li><a href="verdenuncia.html">Ver Denúncias</a></li>
        <li><a href="ajuda.html">Suporte / Ajuda</a></li>
      </ul>
    </nav>
  </div>
  <button id="openBtn" class="open-btn visible">☰</button>

  <!-- Header -->
  <header class="header">
    <img src="/assets/opinaiLogo.png" alt="Logo Opinai">
    <div class="header-text">
      <h1>Denunciar</h1>
      <h2>Faça sua denúncia!</h2>
    </div>
  </header>

  <!-- ETAPA 1: MAPA -->
  <div id="telaMapa" class="container">
    <h2>Onde denunciar?</h2>

    <button id="btnAbrirMapa" class="action-button">
      <div class="icon-box">
        <img src="assets/globo.png" alt="Abrir mapa">
      </div>
      <span>Abrir mapa</span>
    </button>

    <div id="map" style="display:none;"></div>

    <button id="btnIrDenuncia" class="page-button" style="display:none;">
      Denunciar neste local
    </button>
  </div>

  <!-- ETAPA 2: FORMULÁRIO -->
  <div id="telaDenuncia" class="container" style="display:none;">
    <h2>Fazer Denúncia</h2>

    <button id="btnAbrirCamera" class="action-button">
      <div class="icon-box">
        <img src="./assets/camera.png" alt="Abrir câmera">
      </div>
      <span>Abrir câmera</span>
    </button>
    <video id="video" autoplay playsinline style="display:none"></video>
    <button id="btnFoto" class="page-button" onclick="tirarFoto()" style="display:none">Tirar Foto</button>

    <div id="preview"></div>

    <form class="form-content">
      <label for="tituloDenuncia"><b>Título:</b></label>
      <input type="text" id="tituloDenuncia" placeholder="Buraco na estrada">

      <label for="denuncia"><b>Descreva a denúncia:</b></label>
      <textarea id="denuncia" placeholder="Explique o problema"></textarea>
    </form>

    <button type="button" onclick="criarDenuncia()" class="page-button">
      Confirmar Denúncia!
    </button>
  </div>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

  <!-- JS do mapa -->
  <script src="./js/mapa.js"></script>

  <!-- JS de controle das telas -->
  <script src="./js/telas.js"></script>
  <script src="script.js"></script>
</body>

</html>